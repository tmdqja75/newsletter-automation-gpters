# [Claude Code] deepagents로 AI 뉴스레터 작성 시스템 구축한 후기

## 📝 한줄 요약
매주 AI 뉴스레터를 쓰는 게 부담이었는데, Claude Code와 deepagents로 리서치부터 글쓰기까지 자동화하는 에이전트를 만들어봤습니다. (아직 진행 중!)

## 🎯 이런 분들께 도움돼요
- 정기적으로 뉴스레터나 콘텐츠를 발행하는 크리에이터
- AI 에이전트 프레임워크(deepagents, LangGraph)를 써보고 싶은 개발자
- Claude Code로 실제 프로젝트를 만들어보고 싶은 분
- "AI로 뭘 자동화할 수 있을까?" 고민하는 분

## 😫 문제 상황 (Before)

저는 매주 수요일 "오토마타"라는 AI 뉴스레터를 발행하고 있어요. LLM과 AI 에이전트 관련 소식을 정리해서 구독자들에게 전달하는 건데, 이게 생각보다 손이 많이 가더라고요.

**기존에 겪던 불편함:**
- **리서치에 시간이 너무 오래 걸림**: 매주 AI 뉴스를 찾고, 읽고, 정리하는 데만 몇 시간씩 소요
- **글쓰기 자체가 부담**: 토픽은 있는데 아티클로 풀어쓰는 게 힘들었음
- **일정 유지가 어려움**: 바쁜 주에는 뉴스레터 발행이 밀리기 일쑤
- **ChatGPT의 어색한 톤**: 챗지피티와 작성할 때 자연스러운 톤앤 매너 생성하기 힘들었음

그래서 파이선 코드로 제가 파인튜닝할 수 있는 에이전트를 만들기로 결심했어요. LangChain에서 새로 나온 `deepagents` 패키지를 사용해서 말이죠. Claude Code처럼 복잡한 작업을 처리하는 에이전트를 만들 수 있다길래, "이걸로 뉴스레터 작성을 자동화할 수 있지 않을까?" 싶었어요.

`deepagents`에는 세 가지 특화 기능이 있는데 이 기능들이 제 뉴스레터 자동화 프로젝트에 부합할 거라고 생각했어요.


## 🛠️ 사용한 도구
- **Claude Code**: 전체 개발 과정 협업
- **모델**: Claude Opus 4.5
- **주요 패키지**: deepagents (LangGraph 기반), Tavily API (웹 검색)

---

## 🔧 작업 과정

먼저 프로젝트를 시작하기 전 제 뉴스레터의 특징들과 프로젝트의 방향성을 쭉 나열해 봤어요. Claude Code에게 양질의 정보를 주고 프로젝트를 시작해보고 싶었어요.

> 매주 수요일 발행하는 “오토마타” (Automata) 뉴스레터 작성을 자동화하는 langgraph deepagent를 만들어보려고 해
> 뉴스레터 특성
> - 매주 수요일마다 발행되고, LLM과 AI Agent관련 일주일 동안 새로운 소식을 구독자들에게 소개하는 뉴스레터
> - 뉴스레터는 항상 세 가지 아티클을 포함
> -  아티클 토픽 예시 
>     - 새로운 모델 (open source, closed model) 발표 소식 
>     - reddit이나 hackernews같은 곳에서 다른 사람들이 쓰는 신박학 AI 에이전트를 활용 사례
>     - 최근 에이전트 개발 트렌드 (ex. Agent harness, Context Engineering, MCP등)
>     - 구글이나 Anthropic, OpenAI등 기업에서 발간하는 에이전트 관련 보고서 요약해서 설명해주기
>     - Anthropic이나 OpenAI등과 같은 기업의 기술 블로그에서 읽을 만한 아티클 소개 후 설명해주기
> - 아티클 세 개에다가 추가로 마지막 아티클은 “오토마타 스터디 카페” 섹션
>     -  AI에이전트를 공부할 떄 도움이 될 만한 자료를 하나 선정해서 소개하고 추천하는 섹션
>         - 에이전트 관련 유튜브 채널 추천
>         - 에이전트 관련 유용한 깃헙 레포지토리 추천
>         - 에이전트 관련 도서 추천
> 
> 프로젝트 개요
>
> 에이전트 구조
> Main orchestraton agent 
> - Research Subagent: 이번 주 뉴스레텨를 위해 주제 리서치 하는 에이전트
> - Topic Selection agent: 주제 선정 에이전트
> - Tone and manner subagent: 아티클의 톤앤매너를 원하는 형식으로 수정하는 에이전트
> 
> 주의사항
> - 랭체인의 deepagents 패키지는 나온지 얼마 안된 패키지라서 관련해서 조사가 좀 필요함
>     - 패키지를 어떻게 활용하는지 파악 필요
> - 각 아티클을 마크다운 파일로 저장
>     - articles/라는 디렉토리에 저장
> - 아티클을 합치는 작업은 파이썬 하드코딩으로 진행.

그리고 나서 Claude Code의 Planning 모드를 활용하여 프로젝트의 방향성을 같이 잡아나갔어요. 아래는 클로드 코드가 최종 Plan을 작성하기 전까지 실행한 과정들이에요.

### deepagents가 뭔지부터 파악하기

deepagents는 나온 지 4-5개월 정도 된 따끈따끈한 패키지에요. Claude Code가 제 

Claude Code가 웹 검색으로 공식 문서, GitHub README, 튜토리얼 블로그까지 찾아서 정리했어요. `create_deep_agent()` 함수 사용법, subagent 정의 방법, middleware 아키텍처까지. 새로운 패키지인데도 사용법을 빠르게 파악했어요.

---

### 기존 뉴스레터 톤앤매너 분석

Claude Code가 제가 평소에 작성하는 톤앤메너를 분석하기 위해 제 뉴스레터 URL주소를 요청했어요.

> 이 URL이 기존 뉴스레터야. 톤앤매너를 분석해줘.
> https://maily.so/automata/posts/l1zqg24lr5x


Claude가 분석한 결과:
- 친근한 해요체 사용
- 기술 용어는 한국어와 영어 병기 (예: "에이전트 하니스(Agent Harness)")
- 비유를 활용해서 어려운 개념 설명
- 섹션당 400-600 단어

---

### 멀티 에이전트 아키텍처 설계

뉴스레터 작성 과정을 여러 에이전트로 나눴어요:

1. **Research Agent**: Tavily API로 최신 AI 뉴스 검색
2. **Topic Selection Agent**: 수집된 뉴스 중 뉴스레터에 실을 토픽 선정
3. **Tone Agent**: 작성된 아티클을 오토마타 스타일로 교정
4. **Main Orchestrator**: 전체 워크플로우 조율

---

이런 단계를 거치고 나서 Claude Code가 플랜을 체계적으로 설계해줬어요. 제가 원하는 대로 약간 수정 후, allow edit 모드를 켜고 Claude Code가 알아서 코드를 작성하게 시켰습니다.


`pyproject.toml`, `.env.example`, `.gitignore`, `README.md`가 순식간에 만들어졌고, 이어서 에이전트 코드까지 구현됐어요:

- `src/config.py` - 설정 및 프롬프트
- `src/agents/` - 서브에이전트 정의
- `src/tools/` - Tavily 검색 도구
- `src/main.py` - 메인 오케스트레이터
- `run.py` - CLI 실행 파일

---

### 에러 디버깅 - 에이전트가 멈추는 문제

코드가 완성된 줄 알았는데, 실행하니까 문제가 생겼어요.

> run.py 실행하면 이렇게 출력되고 무한 대기 상태로 멈춰. 원인 찾아서 해결해줘.
> 🚀 오토마타 뉴스레터 생성 시작
> 📅 발행 예정일: 2026-01-21

Claude가 코드를 분석해서 deepagents 스트리밍 로직의 문제를 찾아냈어요. 진행 상황 출력 메시지를 추가하고 `sys.stdout.flush()`로 실시간 출력을 보장하도록 수정했죠.

에러 메시지만 주면 원인을 추적해서 해결해주니까 디버깅 시간을 줄일 수 있었어요.

---

### 실제 뉴스레터 생성 테스트

수정 후 다시 실행하니까 드디어 뉴스레터가 생성됐어요!

4개 아티클이 자동으로 만들어졌죠:
- DeepSeek V3.2-V4 소식
- 멀티 에이전트 시스템 트렌드
- Test-Time Reasoning 패러다임
- 오토마타 스터디 카페 (오픈소스 코딩 에이전트 추천)

각 아티클이 마크다운 파일로 저장되고, 최종 병합된 `newsletter.md`까지 생성됐어요.

---

## ✅ 결과 (After)

### 현재 상태
| 항목 | 상태 |
|------|------|
| 에이전트 구현 | 완료 |
| 뉴스레터 생성 | 테스트 성공 |
| 실제 적용 | 아직 테스트 단계 |

### 남은 과제
- **리서치 에이전트 개선 필요**: 아직 최신 데이터를 잘 못 가져오는 이슈가 있어요. 또한, 제가 원하는 형식으로 작성해주기 까지 많은 파인튜닝이 필요해 보여요.
- **Human-in-the-Loop 활성화**: 토픽 선정 시 사람 승인 기능 적용 예정이에요.
- **실제 뉴스레터에 적용**: 테스트 후 실제 발행에 활용할 계획이에요.

제가 원하는 방향성만 Claude Code에게 제시했는데 한 시간 만에 동작하는 프로토타입이 나왔다는 게 신기했어요.

---

## 💬 이 과정에서 배운 AI 활용 팁

### 효과적이었던 것

1. **새로운 패키지도 Claude가 조사해준다**
   - deepagents처럼 문서가 적은 새 패키지도 웹 검색으로 사용법을 파악해줌
   - 공식 문서, GitHub 예제, 튜토리얼까지 종합해서 정리

2. **기존 콘텐츠 URL 주면 스타일 분석이 가능하다**
   - 뉴스레터 URL만 줬는데 톤앤매너, 구조, 길이까지 분석
   - 이걸 바탕으로 에이전트 프롬프트 작성

3. **에러도 같이 해결할 수 있다**
   - 에러 메시지만 주면 원인 추적 + 해결까지
   - 디버깅 시간 대폭 단축

4. **계획부터 구현까지 함께**
   - "아이디어만 있는데 어떻게 만들지?"부터 시작해도 됨
   - 계획서 작성 → 환경 설정 → 코드 구현까지 한 흐름으로

### 이렇게 하면 안 돼요

1. **처음부터 완벽한 결과를 기대하지 말 것**
   - AI가 만든 코드도 버그가 있을 수 있음
   - 테스트하고 피드백하는 과정이 필요

2. **맥락 없이 요청하지 말 것**
   - "뉴스레터 만들어줘"보다 "이런 구조의 뉴스레터를 이런 방식으로 자동화하고 싶어"가 훨씬 효과적

---

## 🌍 다른 업무에 적용한다면?

이번 경험을 다른 상황에 적용할 수 있는 아이디어:

- **블로그 포스트 자동화**: 특정 주제 리서치 → 아웃라인 작성 → 초안 생성
- **리포트 자동화**: 데이터 수집 → 분석 → 보고서 형식으로 정리
- **SNS 콘텐츠 생성**: 트렌드 모니터링 → 콘텐츠 아이디어 → 초안 작성

핵심은 "반복적이고 구조화된 작업"을 에이전트로 자동화하는 거예요.

---

## 🚀 앞으로의 계획

1. **리서치 에이전트 개선**: 최신 데이터를 잘 가져오도록 검색 로직 수정
2. **Human-in-the-Loop 활성화**: 토픽 선정 단계에서 사람이 검토/승인하는 기능 적용
3. **실제 뉴스레터 발행에 적용**: 테스트가 끝나면 실제 "오토마타" 뉴스레터 작성에 활용

아직 갈 길이 남았지만, "AI로 콘텐츠 작성을 자동화할 수 있다"는 가능성을 확인한 것만으로도 의미 있는 경험이었어요.

---